(function(){var n=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n},t={}.hasOwnProperty;define(function(t){var u,i,f,r;return u=t("durandal/app"),r=t("security/security"),i=t("i18next"),f=t("nav"),function(t){function e(){e.__super__.constructor.apply(this,arguments);this.isAddAllowed=ko.observable(r.isOperationAllowed(r.permissions.add,r.categories.countryManager));this.isEditAllowed=ko.observable(r.isOperationAllowed(r.permissions.edit,r.categories.countryManager));this.isDeleteAllowed=ko.observable(r.isOperationAllowed(r.permissions["delete"],r.categories.countryManager))}return n(e,t),e.prototype.openAddTab=function(){return f.open({path:"country-manager/edit",title:i.t("app:country.new")})},e.prototype.openEditTab=function(){return f.open({path:"country-manager/edit",title:i.t("app:country.edit"),data:{oldCode:this.rowId()}})},e.prototype.deleteItem=function(){return u.showMessage(i.t("country.messages.delete"),i.t("country.messages.confirmDeletion"),[{text:i.t("common.booleanToYesNo.true"),value:!0},{text:i.t("common.booleanToYesNo.false"),value:!1}],!1,{style:{width:"350px"}}).then(function(n){return function(t){if(t)return $.ajax({type:"POST",url:config.adminApi("Country/Delete"),data:ko.toJSON({code:n.rowId()}),dataType:"json",traditional:!0,contentType:"application/json"}).done(function(t){return t.result==="success"?(n.reloadGrid(),u.showMessage(i.t(t.data),i.t("country.delete"),[i.t("common.close")])):u.showMessage(i.t(t.data),i.t("common.error"),[i.t("common.close")])})}}(this))},e}(t("vmGrid"))})}).call(this);
//# sourceMappingURL=list.min.js.map
