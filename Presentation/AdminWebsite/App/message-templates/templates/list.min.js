(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}};define(["nav","durandal/app","i18next","security/security","shell","controls/grid"],function(t,i,r,u,f){return function(){function u(){this.deleteTemplate=n(this.deleteTemplate,this);this.shell=f;this.templateId=ko.observable();this.canBeEditedDeleted=ko.observable(!1);this.compositionComplete=function(n){return function(){return $("#message-template-grid").on("gridLoad selectionChange",function(t,i){return n.templateId(i.id),n.canBeEditedDeleted(!0)})}}(this)}return u.prototype.openAddTemplateTab=function(){return t.open({path:"message-templates/templates/add-template",title:r.t("app:bonus.templateManager.new")})},u.prototype.openEditTemplateTab=function(){if(this.templateId())return t.open({path:"message-templates/templates/edit-template",title:r.t("app:bonus.templateManager.edit"),data:{id:this.templateId()}})},u.prototype.deleteTemplate=function(){if(this.templateId())return i.showMessage(r.t("messageTemplates.dialogs.confirmDeleteTemplate"),r.t("messageTemplates.dialogs.deleteTitle"),[{text:r.t("common.booleanToYesNo.true"),value:!0},{text:r.t("common.booleanToYesNo.false"),value:!1}],!1,{style:{width:"350px"}}).then(function(n){return function(t){if(t)return $.post("/messagetemplate/deletetemplate",{id:n.templateId()}).done(function(t){return t.Success?($("#message-template-grid").trigger("reload"),n.canBeEditedDeleted(!1),i.showMessage(r.t("messageTemplates.dialogs.deleteSuccessful"),r.t("messageTemplates.dialogs.successful"),[r.t("common.close")])):i.showMessage(t.Message,r.t("common.error"),[r.t("common.close")])})}}(this))},u}()})}).call(this);
/*
//# sourceMappingURL=list.min.js.map
*/