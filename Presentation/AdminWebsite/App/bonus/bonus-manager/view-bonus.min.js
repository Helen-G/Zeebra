(function(){var n=function(n,t){return function(){return n.apply(t,arguments)}},t=function(n,t){function u(){this.constructor=n}for(var r in t)i.call(t,r)&&(n[r]=t[r]);return u.prototype=t.prototype,n.prototype=new u,n.__super__=t.prototype,n},i={}.hasOwnProperty;define(["bonus/bonus-manager/bonusBase","komapping","moment","i18next"],function(i,r,u){return function(i){function f(){this.activate=n(this.activate,this);f.__super__.constructor.call(this);this.LicenseeName=ko.observable("");this.BrandName=ko.observable("");this.created=ko.observable(!1);this.edited=ko.observable(!1);this.formatDateRange=function(n,t,i){var f,r,e;return r="YYYY/MM/DD",i&&(r+=" HH:mm"),e=u(n,r).format(r),f=u(t,r).format(r),"from "+e+" to "+f};this.vTemplateName=ko.computed(function(n){return function(){var t,u,i,r;for(i=n.templates(),t=0,u=i.length;t<u;t++)if(r=i[t],r.Id===n.TemplateId())return r.Name;return n.emptyCaption()}}(this));this.vCode=ko.computed(function(n){return function(){return n.Code()!=null?n.Code():n.emptyCaption()}}(this));this.vDuration=ko.computed(function(n){return function(){var t,i;return n.DurationType()===1?(t=n.formatTimeString(n.DurationDays(),n.DurationHours(),n.DurationMinutes()),i=n.formatDateRange(n.ActiveFrom(),n.DurationEnd(),!0),t+" ("+i+")"):n.formatDateRange(n.DurationStart(),n.DurationEnd(),!0)}}(this));this.vActivityRange=ko.computed(function(n){return function(){return n.formatDateRange(n.ActiveFrom(),n.ActiveTo(),!1)}}(this))}return t(f,i),f.prototype.activate=function(n){return n.created!==void 0&&this.created(!0),n.edited!==void 0&&this.edited(!0),$.get("/bonus/GetRelatedData",{id:n.id}).done(function(n){return function(t){return r.fromJS(t.bonus,{},n),n.templates(t.templates),n.TemplateId.valueHasMutated()}}(this))},f}(i)})}).call(this);
//# sourceMappingURL=view-bonus.min.js.map
