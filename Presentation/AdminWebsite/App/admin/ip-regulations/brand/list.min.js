(function(){var n=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n},t={}.hasOwnProperty;define(function(t){var o,u,i,s,f,r,e,h;return t("controls/grid"),f=t("nav"),i=t("i18next"),s=t("JqGridUtil"),h=t("toastr"),u=t("durandal/app"),r=t("security/security"),e=t("shell"),o=function(t){function o(){o.__super__.constructor.apply(this,arguments);this.isAddAllowed=ko.observable(r.isOperationAllowed(r.permissions.add,r.categories.brandIpRegulationManager));this.isEditAllowed=ko.observable(r.isOperationAllowed(r.permissions.edit,r.categories.brandIpRegulationManager));this.isDeleteAllowed=ko.observable(r.isOperationAllowed(r.permissions["delete"],r.categories.brandIpRegulationManager));this.brandFilter=ko.computed(function(){return function(){return e.brand().id()!=null?e.brand().id():null}}(this))}return n(o,t),o.prototype.reloadGrid=function(){return $("#regulation-grid").trigger("reload")},o.prototype.openAddIpRegulationTab=function(){return f.open({path:"admin/ip-regulations/brand/brand-add-edit-ip-regulation",title:i.t("app:admin.ipRegulationManager.newBrandTabTitle")})},o.prototype.openEditIpRegulationTab=function(){var n;return n=this.rowId(),f.open({path:"admin/ip-regulations/brand/brand-add-edit-ip-regulation",title:i.t("app:admin.ipRegulationManager.editBrandTabTitle"),data:n!=null?{id:n}:void 0})},o.prototype.deleteIpRegulation=function(){var n;if(n=this.rowId(),n!=null)return u.showMessage(i.t("app:admin.messages.deleteIpRegulation"),i.t("app:admin.messages.confirmIpRegulationDeletion"),[{text:i.t("common.booleanToYesNo.true"),value:!0},{text:i.t("common.booleanToYesNo.false"),value:!1}],!1,{style:{width:"350px"}}).then(function(t){return function(r){if(r)return $.post("/BrandIpRegulations/DeleteIpRegulation",{id:n}).done(function(n){return n.result==="success"?(t.reloadGrid(),u.showMessage(i.t("admin.messages.ipRegulationDeletedSuccessully"),i.t("bonus.templateManager.delete"),[i.t("common.close")])):u.showMessage(n.Message,i.t("common.error"),[i.t("common.close")])})}}(this))},o}(t("vmGrid")),new o})}).call(this);
//# sourceMappingURL=list.min.js.map
