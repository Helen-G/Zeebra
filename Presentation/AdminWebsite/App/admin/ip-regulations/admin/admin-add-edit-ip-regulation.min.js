(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};define(function(){var i,r,n,u,f;return n=require("i18next"),i=require("durandal/app"),f=require("admin/ip-regulations/admin/list"),r=require("base/base-view-model"),u=require("admin/ip-regulations/admin/model/admin-ip-regulation-model"),function(r){function e(){e.__super__.constructor.apply(this,arguments);this.displayedMessage=ko.observable();this.advancedSettings=ko.observable(!1);this.ipFile=ko.observable()}return t(e,r),e.prototype.uploadAddresses=function(){var t;return t=function(n){return function(){var t,i;return t=$("input[type=file]")[0].files[0],t!=null?(i=new FileReader,i.readAsText(t,"UTF-8"),i.onload=function(t){return n.Model.ipAddressBatch((n.Model.ipAddressBatch()==null?"":n.Model.ipAddressBatch())+t.target.result)}):void 0}}(this),this.Model.ipAddressBatch()!=null&&this.Model.ipAddressBatch().replace(" ","").replace("\n","").replace("\t","")!==""?i.showMessage(n.t("app:admin.messages.multipleIpAddressesIsntEmpty"),n.t("app:admin.messages.multipleIpAddressesOverwrite"),[{text:"Overwrite",value:"overwrite"},{text:"Append",value:"append"},{text:"Cancel",value:"cancel"}],!1,{style:{width:"350px"}}).then(function(n){return function(i){switch(i){case"overwrite":return n.Model.ipAddressBatch(null),t();case"append":return n.Model.ipAddressBatch(n.Model.ipAddressBatch()+";\n"),t()}}}(this)):t()},e.prototype.onsave=function(){return f.reloadGrid(),this.success(this.displayedMessage()),this.readOnly(!0),this.renameTab(n.t("app:admin.ipRegulationManager.viewAdminTabTitle"))},e.prototype.activate=function(t){var i,r;return e.__super__.activate.apply(this,arguments),i=$.Deferred(),this.Model=new u,r={},this.Model.isEdit(t!=null),this.Model.isEdit()?(r={id:t.id},this.SavePath="/AdminIpRegulations/UpdateIpRegulation",this.displayedMessage(n.t("app:admin.messages.regultionSuccesfullyUpdated"))):(this.SavePath="/AdminIpRegulations/CreateIpRegulation",this.displayedMessage(n.t("app:admin.messages.regultionSuccesfullyCreated"))),$.get("/AdminIpRegulations/GetEditData",r).done(function(n){return function(t){return n.Model.isEdit()&&n.Model.editIpAddress(t.model.ipAddress),n.Model.mapfrom(t.model),i.resolve()}}(this)),i.promise()},e}(r)})}).call(this);
//# sourceMappingURL=admin-add-edit-ip-regulation.min.js.map
