(function(){var n=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n},t={}.hasOwnProperty;define(function(t){var e,u,i,o,f,r,s,h;return t("controls/grid"),f=t("nav"),i=t("i18next"),o=t("JqGridUtil"),h=t("toastr"),u=t("durandal/app"),r=t("security/security"),s=t("shell"),e=function(t){function e(){e.__super__.constructor.apply(this,arguments);this.isAddAllowed=ko.observable(r.isOperationAllowed(r.permissions.add,r.categories.backendIpRegulationManager));this.isEditAllowed=ko.observable(r.isOperationAllowed(r.permissions.edit,r.categories.backendIpRegulationManager));this.isDeleteAllowed=ko.observable(r.isOperationAllowed(r.permissions["delete"],r.categories.backendIpRegulationManager))}return n(e,t),e.prototype.reloadGrid=function(){return $("#admin-regulation-grid").trigger("reload")},e.prototype.openAddIpRegulationTab=function(){return f.open({path:"admin/ip-regulations/admin/admin-add-edit-ip-regulation",title:i.t("app:admin.ipRegulationManager.newAdminTabTitle")})},e.prototype.openEditIpRegulationTab=function(){return f.open({path:"admin/ip-regulations/admin/admin-add-edit-ip-regulation",title:i.t("app:admin.ipRegulationManager.editAdminTabTitle"),data:this.rowId()!=null?{id:this.rowId()}:void 0})},e.prototype.deleteIpRegulation=function(){var n;if(n=this.rowId(),n!=null)return u.showMessage(i.t("app:admin.messages.deleteIpRegulation"),i.t("app:admin.messages.confirmIpRegulationDeletion"),[{text:i.t("common.booleanToYesNo.true"),value:!0},{text:i.t("common.booleanToYesNo.false"),value:!1}],!1,{style:{width:"350px"}}).then(function(t){return function(r){if(r)return $.post("/AdminIpRegulations/DeleteIpRegulation",{id:n}).done(function(n){return n.result==="success"?(t.reloadGrid(),u.showMessage(i.t("admin.messages.ipRegulationDeletedSuccessully"),i.t("bonus.templateManager.delete"),[i.t("common.close")])):u.showMessage(n.Message,i.t("common.error"),[i.t("common.close")])})}}(this))},e}(t("vmGrid")),new e})}).call(this);
//# sourceMappingURL=list.min.js.map
