(function(){define(function(n){var i,r,u,t;return u=n("komapping"),r=n("i18next"),i=function(){function n(){this.remarks=ko.observable("").extend({required:!0,maxLength:200});this.licensees=ko.observableArray();this.brands=ko.observableArray();this.licensee=ko.observable();this.licensee.subscribe(function(n){return function(t){return n.loadBrands(t.id)}}(this));this.brand=ko.observable();this.transactionType=ko.observable();this.transactionTypes=ko.observableArray();this.paymentMethod=ko.observable();this.paymentMethods=ko.observableArray();this.idFront=ko.observable();this.idBack=ko.observable();this.creditCardFront=ko.observable();this.creditCardBack=ko.observable();this.poa=ko.observable();this.dcf=ko.observable()}return n.prototype.load=function(n){var t;return this.id=ko.observable(n),t="/IdentificationDocumentSettings/GetEditData",this.id()&&(t=t+"?id="+this.id()),$.get(t).done(function(n){return function(t){if(n.licensees(t.licensees),n.transactionTypes(t.transactionTypes),n.paymentMethods(t.paymentMethods),t.licensees.length!==0)return n.id()?(n.idFront(t.setting.idFront),n.idBack(t.setting.idBack),n.creditCardFront(t.setting.creditCardFront),n.creditCardBack(t.setting.creditCardBack),n.poa(t.setting.poa),n.dcf(t.setting.dcf),n.remarks(t.setting.remark),n.paymentMethod(t.setting.paymentMethod),n.transactionType(t.setting.transactionType),n.licensee(_.find(n.licensees(),function(n){return n.id===t.setting.licenseeId})),n.brand(_.find(n.brands(),function(n){return n.id===t.setting.brandId}))):n.licensee(n.licensees()[0])}}(this))},n.prototype.loadBrands=function(n){return $.get("/IdentificationDocumentSettings/GetLicenseeBrands?licenseeId="+n).done(function(n){return function(t){if(n.brands(t.brands),t.brands.length!==0)return n.brand(n.brands()[0])}}(this))},n.prototype.clear=function(){return this.remarks(""),this.remarks.isModified(!1),this.id(""),this.licensee(""),this.brand(""),this.transactionType(""),this.paymentMethod(""),this.idFront(""),this.idBack(""),this.creditCardFront(!1),this.creditCardBack(!1),this.poa(!1),this.dcf(!1)},n.prototype.getModelToSave=function(){var n;return n={LicenseeId:this.licensee().id,BrandId:this.brand().id,TransactionType:this.transactionType(),PaymentMethod:this.paymentMethod(),IdFront:this.idFront(),IdBack:this.idBack(),CreditCardFront:this.creditCardFront(),CreditCardBack:this.creditCardBack(),POA:this.poa(),DCF:this.dcf(),Remark:this.remarks()},this.id()&&(n.Id=this.id()),n},n}(),t=new i,t.load(),t.errors=ko.validation.group(t),t})}).call(this);
//# sourceMappingURL=model.min.js.map
