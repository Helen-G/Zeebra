(function(){var n=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n},t={}.hasOwnProperty;define(function(t){var u,f,r,e,i,o;return t("controls/grid"),e=t("nav"),r=t("i18next"),u=t("durandal/app"),i=t("security/security"),o=t("brand/translation-manager/dialogs/status-dialog"),f=t("config"),function(t){function s(){s.__super__.constructor.apply(this,arguments);this.isAddAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions.add,i.categories.translationManager)});this.isEditAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions.edit,i.categories.translationManager)});this.isViewAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions.view,i.categories.translationManager)});this.isActivateAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions.activate,i.categories.translationManager)});this.isDeactivateAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions.deactivate,i.categories.translationManager)});this.isDeleteAllowed=ko.computed(function(){return i.isOperationAllowed(i.permissions["delete"],i.categories.translationManager)});this.canActivate=ko.observable(!1);this.canDeactivate=ko.observable(!1);this.languageNames=ko.observableArray();this.noRecordsFound=ko.observable(!1)}return n(s,t),s.prototype.rowChange=function(n){return this.canActivate(n.data.Status==="Disabled"),this.canDeactivate(n.data.Status==="Enabled"),this.noRecordsFound($("#translation-grid")[0].gridParam("reccount")===0)},s.prototype.activate=function(){return s.__super__.activate.apply(this,arguments),$.get(f.adminApi("ContentTranslation/GetContentTranslationAddData")).success(function(n){return function(t){return n.languageNames(t.languages.map(function(n){return n.code}))}}(this))},s.prototype.openAddTranslationTab=function(){return e.open({path:"brand/translation-manager/add-translation",title:r.t("app:contenttranslation.newTranslation")})},s.prototype.openEditTranslationTab=function(){return e.open({path:"brand/translation-manager/edit-translation",title:r.t("app:contenttranslation.editTranslation"),data:{id:this.rowId()}})},s.prototype.openViewTranslationTab=function(){},s.prototype.activateTranslation=function(){var n;return n=new o(this.rowId(),""),n.show(!0)},s.prototype.deactivateTranslation=function(){var n;return n=new o(this.rowId(),""),n.show(!1)},s.prototype.deleteTranslation=function(){var n;return n=this.rowId(),u.showMessage(r.t("app:contenttranslation.messages.deleteQuestion"),r.t("app:contenttranslation.messages.confirmDelete"),[{text:r.t("common.booleanToYesNo.true"),value:!0},{text:r.t("common.booleanToYesNo.false"),value:!1}],!1,{style:{width:"350px"}}).then(function(){return function(t){if(t)return $.ajax({type:"POST",url:f.adminApi("ContentTranslation/DeleteContentTranslation"),data:ko.toJSON({id:n}),dataType:"json",contentType:"application/json"}).done(function(){})}}(this)).done(function(){return function(n){return n.result==="success"?($("#translation-grid").trigger("reload"),u.showMessage(r.t("contenttranslation.messages.translationDeleted"),r.t("contenttranslation.messages.translationDeletedTitle"),[r.t("common.close")])):u.showMessage(n.Message,r.t("common.error"),[r.t("common.close")])}}(this))},s}(t("vmGrid"))})}).call(this);
//# sourceMappingURL=list.min.js.map
